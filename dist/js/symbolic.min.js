/*!
 *  Symbolic - v1.0.4
 *  A symbol picker jQuery plugin.
 *  https://github.com/AlekseiS/symbolic
 *  Made by Aleksei
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._name=f,this._doc=b.ownerDocument,this._boundElement=a(b),this._containerVisible=!1,this._preview=a(this.settings.previewTemplate),this._container=a(this.settings.containerTemplate,this._doc),this._appendTo=a("body"),this.init()}var f="symbolic",g={previewTemplate:["<div class='sy-replacer'>","<div class='sy-preview'><span class='sy-preview-inner'></span></div>","<div class='sy-dd'>&#9660;</div>","</div>"].join(""),containerTemplate:["<div class='sy-container sy-hidden'>","<div class='sy-palette-container'>","<div class='sy-palette sy-thumb'></div>","</div>","</div>"].join(""),palette:[["_"]],initial:d};a.extend(e.prototype,{init:function(){this._preview.bind("click."+this._name+" touchstart."+this._name,a.proxy(this._previewClick,this)),this._boundElement.append(this._preview),this._populateContainer(this._container),this._appendTo.append(this._container),this._container.offset(this._getOffset(this._container,this._preview)),this._container.delegate(".sy-thumb-el","click."+this._name+" touchstart."+this._name,a.proxy(this._paletteCellClick,this)),this._container.click(this._stopPropagation),this.set(this.settings.initial?this.settings.initial:this.settings.palette[0][0])},get:function(){return this._current},set:function(a){this._current=a,this._preview.find(".sy-preview-inner").text(a)},toggle:function(){this._containerVisible?this.hide():this.show()},show:function(){this._containerVisible=!0,a(this._doc).bind("click."+this._name+" touchstart."+this._name,a.proxy(this._clickout,this)),this._preview.addClass("sy-active"),this._container.removeClass("sy-hidden")},hide:function(){this._containerVisible=!1,this._container.addClass("sy-hidden"),this._preview.removeClass("sy-active"),a(this._doc).unbind("click."+this._name+" touchstart."+this._name,a.proxy(this._clickout,this))},_stopPropagation:function(a){a.stopPropagation()},_getOffset:function(b,c){var d=0,e=b.outerWidth(),f=b.outerHeight(),g=c.outerHeight(),h=b[0].ownerDocument,i=h.documentElement,j=i.clientWidth+a(h).scrollLeft(),k=i.clientHeight+a(h).scrollTop(),l=c.offset();return l.top+=g,l.left-=Math.min(l.left,l.left+e>j&&j>e?Math.abs(l.left+e-j):0),l.top-=Math.min(l.top,l.top+f>k&&k>f?Math.abs(f+g-d):d),l},_populateContainer:function(a){for(var b=[],c=this.settings.palette,d=0;d<c.length;d++)b.push(this._populateRow(c[d]));a.find(".sy-palette").append(b.join(""))},_populateRow:function(a){for(var b=[],c=0;c<a.length;c++)b.push("<span class='sy-thumb-el'>"+a[c]+"</span>");return"<div>"+b.join("")+"</div>"},_clickout:function(a){2!==a.button&&this.hide()},_paletteCellClick:function(b){this.set(a(b.target).closest(".sy-thumb-el").text()),this.hide(),b.stopPropagation();var c=a.Event("selected."+this._name);this._boundElement.trigger(c,this.get())},_previewClick:function(a){this.toggle(),a.stopPropagation()}}),a.fn[f]=function(b){var c=arguments;if(b===d||"object"==typeof b)return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))});if("string"==typeof b&&"_"!==b[0]&&"init"!==b){var g;return this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&(g=d[b].apply(d,Array.prototype.slice.call(c,1))),"destroy"===b&&a.data(this,"plugin_"+f,null)}),g!==d?g:this}}}(jQuery,window,document);